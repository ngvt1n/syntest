{% extends "base.html" %}
{% block title %}SYNTEST — Speed Congruency Test{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='speedcongruency.css') }}" />
<style>
  .chip-wrap { display:flex; justify-content:center; margin-top:20px; }
  .color-chip { width: 160px; height: 160px; border-radius: 12px; box-shadow: 0 4px 18px rgba(0,0,0,.2); }
  .swatch { width: 120px; height: 120px; border-radius: 12px; border: 2px solid #111; cursor: pointer; }
  .palette { display: grid; grid-template-columns: repeat(4, minmax(100px, 1fr)); gap: 16px; margin-top: 24px; }
</style>
{% endblock %}

{% block header %}
<!-- Override default header for full-screen test -->
{% endblock %}

{% block content %}
<!-- Trigger view (3s) -->
<main id="triggerView" class="screen trigger">
  <img src="{{ url_for('static', filename='images/trigger.jpg') }}" alt="Trigger" class="bg-image"/>
  <div class="overlay">
    <h1 class="prompt">LOOK AT THE COLOR SHOWN</h1>
    <div class="chip-wrap">
      <div id="triggerChip" class="color-chip" aria-label="Trigger color"></div>
    </div>
  </div>
  <div class="countdown" aria-live="polite" aria-atomic="true"><span id="countNum">3</span></div>
</main>

<!-- Response view -->
<main id="responseView" class="screen response" aria-hidden="true" style="display:none">
  <img src="{{ url_for('static', filename='images/response.jpg') }}" alt="Response" class="bg-image"/>
  <div class="overlay">
    <h1 class="prompt">TIMER STARTED — CLICK THE MATCHING COLOR</h1>
    <div id="palette" class="palette" role="group" aria-label="Choose a color"></div>

    <div class="rt-row" id="rtRow" hidden>
      <span>Reaction time:</span>
      <strong id="rtValue">—</strong>
      <span>ms</span>
    </div>
  </div>
</main>
{% endblock %}

{% block footer %}
<!-- Override footer for full-screen test -->
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='speedcongruency.js') }}"></script>
{% endblock %}
